<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

    <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
    <head>
            <meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
            <title></title>
    <script>
    window.onload = function(){
        var aLi = document.getElementsByTagName('li');
        for (var i=0;i<aLi.length;i++){
            // console.log("outClosure" + i);
            (function(i){
                console.log("in closure");
                aLi[i].onclick = function(){
                    console.log("inClosure" + i);
                    // alert(i);    
                };
            })(i);
        }
    };
    </script>
            
    </head>
    <body>
            <ul>
                    <li>123</li>
                    <li>456</li>
                    <li>789</li>
            </ul>
    </body>
    </html>